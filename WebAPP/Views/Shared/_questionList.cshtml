@model IEnumerable<ViewModels.Question.Response.QuestionVm>



<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="pills-tracnghiem-tab" data-bs-toggle="pill" data-bs-target="#pills-tracnghiem" type="button" role="tab" aria-controls="pills-tracnghiem" aria-selected="true">
            <i class="bi-folder2-open"></i>
            Câu hỏi trắc nghiệm
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-tuluan-tab" data-bs-toggle="pill" data-bs-target="#pills-tuluan" type="button" role="tab" aria-controls="pills-tuluan" aria-selected="false">
            <i class="bi-folder2-open"></i>
            Câu hỏi tự luận
        </button>
    </li>

</ul>
<div class="tab-content" id="pills-tabContent">
    <div class="tab-pane fade show active" id="pills-tracnghiem" role="tabpanel" aria-labelledby="pills-tracnghiem-tab" tabindex="0">
        <div class="accordion">
            @foreach (var item in Model)
            {
                string speId = "new" + item.Id;
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed btnTitle" type="button" data-bs-toggle="collapse" data-bs-target="#@speId" aria-expanded="false">
                            <span style="width:50px; margin-right:10px" class="badge badge-sm bg-secondary">@(item.Score ?? 0) </span>
                            @item.Text
                        </button>
                    </h2>
                    <div id="@speId" class="accordion-collapse collapse">
                        <div class="accordion-body">
                            <table id="example" class="table table-dark table-hover table-sm" style="font-size:small;margin-bottom:auto">
                                <tbody>
                                    <tr>
                                        <td class="col-sm-2" style="text-align:center">
                                            A :
                                        </td>
                                        <td style=";background:black">
                                            @Html.DisplayFor(modelItem => item.QA)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2" style="text-align:center">
                                            B :
                                        </td>
                                        <td style=";background:black">
                                            @Html.DisplayFor(modelItem => item.QB)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2" style="text-align:center">
                                            C :
                                        </td>
                                        <td style=";background:black">
                                            @Html.DisplayFor(modelItem => item.QC)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2" style="text-align:center">
                                            D :
                                        </td>
                                        <td style=";background:black">
                                            @Html.DisplayFor(modelItem => item.QD)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-sm-2" style="text-align:center">
                                            Đáp án đúng :
                                        </td>
                                        <td style="background:black">
                                            @(item.QCorrectAns.ToString().ToUpper())
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                            <div style="text-align:end;margin-top:5px">
                                <div class="btn-group" style=" white-space:nowrap;">
                                    <btn class="btn btn-outline-secondary btn-sm btnSua" data-id="@item.Id">
                                        <i class="bi-exposure"> </i>
                                        Sửa thang điểm
                                    </btn>
                                    <btn class="btn btn-outline-secondary btn-sm btnSua" data-id="@item.Id">
                                        <i class="bi-pencil-fill"> </i>
                                        Sửa câu hỏi
                                    </btn>
                                    <btn class="btn btn-outline-danger btn-sm btnXoa" data-id="@item.Id">
                                        <i class="bi-trash"> </i>
                                        Xoá
                                    </btn>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
    <div class="tab-pane fade" id="pills-tuluan" role="tabpanel" aria-labelledby="pills-tuluan-tab" tabindex="0">
    </div>
</div>

@*<script>
    $(document).ready(function () {
        $(".mybutton").hide();

        $(".btnTitle").hover(
            function () {
                // Mouseover event
                $(this).find(".mybutton").show();
            },
            function () {
                // Mouseleave event
                $(this).find(".mybutton").hide();
            }
        );
    });
</script>

*@




















<table id="example" class="table table-dark table-hover table-sm" style="font-size:small" hidden>
    <thead style="font-size:smaller;text-align:center;white-space:nowrap">
        <tr>
            <th class="all">
                Câu hỏi
            </th>
            <th class="col-md-2">
            </th>
            <th class="none">
                Đáp án A
            </th>
            <th class="none">
                Đáp án B
            </th>
            <th class="none">
                Đáp án C
            </th>
            <th class="none">
                Đáp án D
            </th>
            <th class="none">
                Đáp án đúng
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Text)
                </td>
                <td style="text-align: end;">
                    <div class="btn-group" style=" white-space:nowrap">
                        <btn class="btn btn-outline-secondary btn-sm btnSua" data-id="@item.Id">
                            <i class="fa fa-pencil fa-fw"> </i>
                            Sửa
                        </btn>
                        <btn class="btn btn-outline-danger btn-sm btnXoa" data-id="@item.Id">
                            <i class="fa fa-trash-can fa-fw"> </i>
                            Xoá
                        </btn>
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QA)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QB)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QC)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QD)
                </td>
                <td>
                    @(item.QCorrectAns?.ToString().ToUpper())
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        //$('#table').DataTable({
        //     "paging": true,
        //     "lengthChange": true,
        //     "searching": true,
        //     "ordering": false,
        //     "info": true,
        //     "autoWidth": false,
        //     "responsive":true,
        //     "rowReorder": true
        // });
        $("[data-toggle=myCollapse]").click(function (ev) {
            ev.preventDefault();
            $(this.getAttribute('data-target')).toggleClass("in");
        });


    })
</script>
